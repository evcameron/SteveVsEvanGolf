<!DOCTYPE html>

<html lang="en">


<head>
	<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>â›³</text></svg>">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evan vs Steve - Golf Series</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .score-card { background: #fff; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
        .evan-win { border-left: 6px solid #3b82f6; } /* Blue */
        .steve-win { border-left: 6px solid #10b981; } /* Green */
        .draw { border-left: 6px solid #94a3b8; }     /* Gray */
    </style>
</head>
<body class="bg-slate-50 font-sans antialiased text-slate-900">

    <header class="bg-green-800 text-white p-6 text-center shadow-lg">
        <h1 class="text-2xl font-black uppercase tracking-tighter italic">Evan vs Steve</h1>
        <p class="text-xs opacity-75 mt-1 font-semibold uppercase tracking-widest">Historical Golf Series</p>
    </header>

    <main class="max-w-md mx-auto p-4">
        <div id="results-list" class="space-y-4">
            <div class="flex justify-center items-center py-20">
                <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-green-700"></div>
            </div>
        </div>
    </main>

    <script>
        // Your specific CSV Published Link
        const CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTgE990XAIusYwh-kIJw35ZMFn7_886JopnebL0YFuGCDXVF7wUtIwolZuCZXY62AjBJM2Y7fLhoI-l/pub?output=csv';

async function fetchResults() {
    try {
        const response = await fetch(CSV_URL);
        if (!response.ok) throw new Error('Network response was not ok');
        
        const data = await response.text();
        console.log("Data received:", data); // Check your console (F12) to see if data arrives

        const rows = data.split('\n').filter(row => row.trim() !== '').map(row => row.split(','));
        const entries = rows.slice(1); 
        
        const container = document.getElementById('results-list');
        container.innerHTML = '';

        if (entries.length === 0) {
            container.innerHTML = "<p class='text-center'>Sheet is empty or not formatted correctly.</p>";
            return;
        }

        entries.forEach((col) => {
            const date = col[0]?.replace(/"/g, '') || 'N/A';
            const course = col[1]?.replace(/"/g, '') || 'Course';
            const evanScore = parseInt(col[2]);
            const steveScore = parseInt(col[3]);

            if (isNaN(evanScore) || isNaN(steveScore)) return;

            let winClass = 'draw';
            if (evanScore < steveScore) winClass = 'evan-win';
            else if (steveScore < evanScore) winClass = 'steve-win';

            const card = `
                <div class="score-card p-5 flex flex-col ${winClass} mb-4">
                    <div class="flex justify-between items-center mb-3">
                        <span class="text-[10px] font-bold text-slate-400 uppercase">${date}</span>
                        <span class="text-xs font-bold text-green-700 bg-green-50 px-2 py-1 rounded">${course}</span>
                    </div>
                    <div class="flex justify-between items-end">
                        <div class="flex flex-col">
                            <span class="text-slate-500 text-xs font-semibold">EVAN</span>
                            <span class="font-black text-3xl">${evanScore}</span>
                        </div>
                        <div class="flex flex-col items-end">
                            <span class="text-slate-500 text-xs font-semibold">STEVE</span>
                            <span class="font-black text-3xl">${steveScore}</span>
                        </div>
                    </div>
                </div>`;
            container.innerHTML += card;
        });
    } catch (error) {
        console.error("Detailed Error:", error);
        document.getElementById('results-list').innerHTML = `<p class='text-red-500 text-center mt-10'>Unable to sync data. <br><span class="text-xs text-gray-400">${error.message}</span></p>`;
    }
}
        fetchResults();
    </script>
</body>
</html>
